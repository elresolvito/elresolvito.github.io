<!-- components/cart-sidebar.html -->
<div id="cartOverlay" class="fixed inset-0 bg-black/50 z-[100] hidden" onclick="toggleCart()"></div>
<div id="cartSidebar" class="fixed bottom-0 left-0 right-0 bg-white rounded-t-3xl shadow-2xl z-[101] transform translate-y-full cart-slide max-h-[85vh] flex flex-col">
    <div class="p-4 border-b flex justify-between items-center bg-cuban-green text-white rounded-t-3xl">
        <h3 class="font-bold text-lg"><i class="fas fa-shopping-cart mr-2"></i>Tu Carrito</h3>
        <button onclick="toggleCart()" class="w-8 h-8 bg-white/20 rounded-full flex items-center justify-center hover:bg-white/30 transition"><i class="fas fa-times"></i></button>
    </div>
    <div id="cartItems" class="flex-1 overflow-y-auto p-4 space-y-4"></div>
    <div class="border-t p-4 bg-gray-50">
        <div class="space-y-2 mb-4">
            <div class="flex justify-between text-sm">
                <span>Subtotal:</span>
                <span id="cartSubtotal">$0</span>
            </div>
            <div class="flex justify-between text-sm">
                <span>Envío:</span>
                <span id="cartShipping">$200</span>
            </div>
            <div class="mt-3">
                <div id="promoProgressContainer" class="w-full bg-gray-200 rounded-full h-2.5">
                    <div id="promoProgressBar" class="bg-cuban-green h-2.5 rounded-full" style="width: 0%;"></div>
                </div>
                <p id="progressText" class="text-xs text-gray-500 mt-1">Añade más productos para mejorar el envío</p>
            </div>
            <div class="border-t pt-2 flex justify-between text-lg font-bold">
                <span>Total:</span>
                <span id="cartTotal" class="text-cuban-green">$0</span>
            </div>
        </div>
        <button onclick="openCheckoutModal()" class="w-full btn-whatsapp text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2">
            <i class="fab fa-whatsapp"></i> Continuar con el pedido
        </button>
        <p class="text-xs text-center text-gray-500 mt-3">
            <i class="fas fa-lock mr-1"></i> Pedido seguro al 5356382909
        </p>
    </div>
</div>
